service.type=ai_transform_groq

# include common settings
.include = ./inc_common.properties

# reference HTTP service settings
sub.service.type.config = ./inc_http.properties

# Specify the LLM name (e.g. mixtral-8x7b, gpt-4)
groq.model = "llama3-70b-8192"

# Controls randomness (0 = deterministic, 1 = creative)
groq.temperature = 0.7

# Nucleus sampling (0â€“1); often left at 1.0
groq.top.p = 1.0

# Limit token output (helps cost, latency)
groq.max.tokens = 1000

# Custom stop sequences (e.g. ["\n\n"])
groq.stop = ["\n", "}", "{"]

# This controls how the AI service formats its response.
# text | json_object 
groq.response.format = json_object

# format to extract from the response [json, xml, csv, raw, regex]
# leave empty for auto-detect 
groq.response.output.format = "xml"

# If using regex, this is the pattern to extract the desired content.
groq.response.output.format.regex = ""
groq.response.output.format.regex.group = ""

# use prompt templating
# This allows the use of templated prompts in the AI service.
# If set to false, the service will use a fixed prompt.z
# If set to true, the service will use a templated prompt.
groq.prompt.templated = false

# log the prompt (only if templated prompt is used)
groq.log.prompt = true

# The prompt to use for the AI service. 
groq.prompt = "convert the given json input to xml and return only the xml content such that it can be parsed directly by an xml parser"

# prompt = "Given this customer:"                                            \
#           "\n - ID: {{.id}}"                                               \
#           "\n - Name: {{.name | title}}"                                   \
#           "\n - Email: {{.email | lower}}"                                 \
#           "\n - Spend: ${{.spend}}"                                        \
#           "\n - Last active: {{.last_active | formatDate \"Jan 2, 2006\"}}"  \
#           "\n"                                                             \
#           "Classify them into a segment (bronze, silver, gold) and return JSON with keys: segment, comment."

